{"version":3,"sources":["../appES6/dataHelperES5.js"],"names":[],"mappings":";;AAAA;;AAEA,OAAO,mBAAW;AACjB,KAAM,YAAY,QAAlB;AACA,KAAM,OAAQ,QAAQ,SAAR,CAAd;AACA,KAAM,QAAQ,QAAQ,WAAR,CAAd;;AAEA,KAAM,0BAA0B,SAA1B,uBAA0B,CAAC,QAAD,EAAc;AAC7C,MAAM,cAAc,SAAS,mBAA7B;AACA,MAAI,SAAa,YAAY,KAAZ,CAAjB;AACA,MAAM,IAAW,YAAY,MAAZ,CAAjB;AACA,MAAM,QAAW,IAAI,IAAJ,EAAjB;AACA,MAAI,iBAAiB,IAAI,IAAJ,EAArB;;AAEA,iBAAe,OAAf,CAAuB,eAAe,OAAf,KAA2B,CAAlD;AACA,YAAU,iBAAmB,MAAM,cAAN,EAAnB,GAA4C,GAA5C,IAAmD,MAAM,WAAN,KAAsB,CAAzE,IAA8E,GAA9E,GAAoF,MAAM,UAAN,EAA9F;AACA,YAAU,GAAV;AACA,YAAU,mBAAmB,eAAe,cAAf,EAAnB,GAAqD,GAArD,IAA4D,eAAe,WAAf,KAA+B,CAA3F,IAAgG,GAAhG,GAAsG,eAAe,UAAf,EAAhH;AACA,UAAQ,GAAR,CAAY,MAAZ;AACA,SAAO,MAAP;AACA,EAbD;;AAeA,KAAM,cAAc,SAAd,WAAc,GAAM;AACzB,MAAM,SAAS,OAAO,YAAP,CAAoB,OAApB,CAA4B,UAA5B,CAAf;AACA,SAAO,KAAK,KAAL,CAAW,MAAX,CAAP;AACA,EAHD;;AAKA,KAAM,0BAA0B,SAA1B,uBAA0B,CAAC,IAAD,EAAU;AACzC,MAAM,OAAO,MAAM,IAAN,CAAW,KAAK,gBAAL,CAAsB,KAAtB,CAAX,CAAb;AACA,MAAM,OAAO,EAAb;AACA,OAAK,OAAL,CAAa,eAAO;AACnB,OAAM,WAAW,EAAjB;AACA,OAAM,SAAS,MAAM,IAAN,CAAW,IAAI,gBAAJ,CAAqB,OAArB,CAAX,CAAf;AACA,UAAO,OAAP,CAAe,iBAAS;AACvB,aAAS,IAAT,CAAc,MAAM,KAApB;AACA,IAFD;AAGA,QAAK,IAAL,CAAU,QAAV;AACA,GAPD;AAQA,SAAO,IAAP;AACA,EAZD;;AAcC,KAAM,eAAe,SAAf,YAAe,GAAM;AAC1B,MAAM,iBAAiB,OAAO,YAAP,CAAoB,OAApB,CAA4B,UAA5B,CAAvB;AACA,MAAM,WAAW,KAAK,KAAL,CAAW,cAAX,CAAjB;AACC,MAAM,eAAe,SAAS,SAA9B;AACA,MAAI,QAAQ,EAAZ;AACA,OAAI,IAAI,GAAR,IAAe,YAAf,EAA6B;AAC3B,SAAM,IAAN,CAAW,GAAX;AACD;;AAED,SAAO,KAAP;AACD,EAVD;;AAYD,KAAM,cAAc,SAAd,WAAc,CAAC,QAAD,EAAc;AACjC,MAAM,kBAAkB,KAAK,OAAL,CAAa,mBAAb,EAAkC,MAAlC,CAAxB;AACA,kBAAgB,IAAhB,CAAqB,oBAAY;AAChC,OAAM,eAAe,KAAK,SAAL,CAAe,QAAf,CAArB;AACA,UAAO,YAAP,CAAoB,OAApB,CAA4B,UAA5B,EAAwC,YAAxC;AACA,OAAM,gBAAgB,wBAAwB,QAAxB,CAAtB;AACA,WAAQ,GAAR,CAAY,aAAZ;AACA,SAAM,cAAN,CAAqB,aAArB,EAAoC,QAApC;AACA,GAND;AAOA,EATD;;AAWA,QAAO;AACN,2BAAyB,uBADnB;AAEN,2BAAyB,uBAFnB;AAGN,eAAa,WAHP;AAIN,gBAAc,YAJR;AAKN,eAAa;;AALP,EAAP;AAQA,CAtED","file":"dataHelper.js","sourcesContent":["//to make a sentence with helper \r\n\r\ndefine(require => {\r\n\tconst DAY_IN_MS = 86400000\r\n\tconst $req  = require(\"request\")\r\n\tconst $xmlh = require(\"xmlHelper\")\r\n\r\n\tconst getDateURLrequestString = (settings) => {\r\n\t\tconst URLSettings = settings.requestAvailability\r\n\t\tlet string     = URLSettings[\"URL\"]\r\n\t\tconst n        = URLSettings[\"days\"]\r\n\t\tconst today    = new Date()\r\n\t\tlet nDaysInAdvance = new Date()\r\n\r\n\t\tnDaysInAdvance.setDate(nDaysInAdvance.getDate() + n)\r\n\t\tstring += \"arrivalDate=\"   + today.getUTCFullYear() + \"-\" + (today.getUTCMonth() + 1) + \"-\" + today.getUTCDate()\r\n\t\tstring += \"&\"\r\n\t\tstring += \"departureDate=\" + nDaysInAdvance.getUTCFullYear() + \"-\" + (nDaysInAdvance.getUTCMonth() + 1) + \"-\" + nDaysInAdvance.getUTCDate()\r\n\t\tconsole.log(string)\r\n\t\treturn string\r\n\t}\r\n\r\n\tconst getSettings = () => {\r\n\t\tconst string = window.localStorage.getItem(\"settings\")\r\n\t\treturn JSON.parse(string)\r\n\t}\r\n\r\n\tconst getGroupFormDataAsArray = (form) => {\r\n\t\tconst divs = Array.from(form.querySelectorAll(\"div\"))\r\n\t\tconst data = []\r\n\t\tdivs.forEach(div => {\r\n\t\t\tconst subArray = []\r\n\t\t\tconst inputs = Array.from(div.querySelectorAll(\"input\"))\r\n\t\t\tinputs.forEach(input => {\r\n\t\t\t\tsubArray.push(input.value)\r\n\t\t\t})\r\n\t\t\tdata.push(subArray)\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n\r\n  const getRoomTypes = () => {\r\n  \tconst settingsString = window.localStorage.getItem(\"settings\")\r\n  \tconst settings = JSON.parse(settingsString)\r\n    const roomTypeList = settings.roomTypes\r\n    let array = []\r\n    for(let key in roomTypeList) {\r\n      array.push(key)\r\n    }\r\n\r\n    return array\r\n  }\r\n\r\n\tconst refreshData = (callback) => {\r\n\t\tconst settingsPromise = $req.fromURL(\"rateSettings.json\", \"JSON\")\r\n\t\tsettingsPromise.then(settings => {\r\n\t\t\tconst settingsData = JSON.stringify(settings)\r\n\t\t\twindow.localStorage.setItem(\"settings\", settingsData)\r\n\t\t\tconst requestString = getDateURLrequestString(settings)\r\n\t\t\tconsole.log(requestString)\r\n\t\t\t$xmlh.getAndStoreXML(requestString, callback)\r\n\t\t})\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetDateURLrequestString: getDateURLrequestString,\r\n\t\tgetGroupFormDataAsArray: getGroupFormDataAsArray,\r\n\t\trefreshData: refreshData,\r\n\t\tgetRoomTypes: getRoomTypes,\r\n\t\tgetSettings: getSettings,\r\n\t\t\r\n\t}\r\n})"]}