{"version":3,"sources":["../appES6/proceduresES5.js"],"names":[],"mappings":";;AAAA,OAAO,mBAAW;AAChB,MAAM,MAAM,QAAQ,aAAR,CAAZ;AACA,MAAM,UAAU,QAAQ,QAAR,CAAhB;AACA,MAAM,QAAU,QAAQ,MAAR,CAAhB;;AAEA,MAAM,4BAA4B,SAA5B,yBAA4B,GAAM;AACtC,QAAM,YAAgB,IAAI,sBAAJ,EAAtB;AACA,QAAM,gBAAgB,IAAI,4BAAJ,CAAiC,SAAjC,CAAtB;AACA,QAAM,QAAgB,QAAQ,cAAR,CAAuB,aAAvB,EAAsC,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CAAtC,CAAtB;AACA,QAAM,YAAgB,SAAS,aAAT,CAAuB,YAAvB,CAAtB;AACA,cAAU,WAAV,CAAsB,KAAtB;AACD,GAND;;AAQA,MAAM,cAAc,SAAd,WAAc,CAAC,YAAD,EAAkB;AACpC,QAAI,wBAAJ,CAA6B,YAAM;AAAC;AAAE,KAAtC;AACA,YAAQ,GAAR,CAAY,YAAZ;AACA,QAAM,gBAAgB,IAAI,uBAAJ,CAA4B,YAA5B,CAAtB;;AAEA,QAAI,sBAAJ,CAA2B,YAA3B,EAAyC,IAAzC,CAA8C,eAAO;AACnD,UAAM,QAAQ,IAAI,UAAJ,CAAe,GAAf,CAAd;AACA,UAAM,UAAU,QAAQ,KAAR,CAAc,MAAM,KAApB,CAAhB;AACA,eAAS,aAAT,CAAuB,QAAvB,EAAiC,WAAjC,CAA6C,OAA7C;AACA,cAAQ,YAAR,CAAqB,MAAM,YAA3B;AACA;AACD,KAND;AAOD,GAZD;;AAcA,MAAM,wBAAwB,SAAxB,qBAAwB,GAAM;AAClC,QAAM,MAAM,SAAS,aAAT,CAAuB,cAAvB,CAAZ;AACA,UAAM,SAAN,CAAgB,GAAhB,EAAqB,YAAM;AACzB,cAAQ,GAAR,CAAY,YAAZ;AACA,kBAAY,iBAAZ;AACD,KAHD;AAID,GAND;;AAQA,MAAM,sBAAsB,SAAtB,mBAAsB,GAAM;AAChC,QAAM,SAAS,QAAQ,aAAR,EAAf;AACA,YAAQ,GAAR;AACA,QAAM,OAAO,SAAS,aAAT,CAAuB,qBAAvB,CAAb;AACA,SAAK,WAAL,CAAiB,MAAjB;AACA,YAAQ,GAAR,CAAY,MAAZ;AACD,GAND;;AAQA,MAAM,uBAAuB,SAAvB,oBAAuB,GAAM;AACjC,QAAM,UAAU,MAAM,IAAN,CAAW,SAAS,gBAAT,CAA0B,oBAA1B,CAAX,CAAhB;AACA,YAAQ,OAAR,CAAgB,kBAAU;AACxB,UAAM,YAAY,OAAO,aAAP,CAAqB,aAArB,CAAmC,KAAnC,CAAlB;AACA,YAAM,SAAN,CAAgB,MAAhB,EAAwB,YAAM;AAC5B,kBAAU,SAAV,CAAoB,MAApB,CAA2B,aAA3B;AACD,OAFD;AAGA,cAAQ,GAAR,CAAY,SAAZ;AACD,KAND;AAOD,GATD;;AAWA,MAAM,qBAAqB,SAArB,kBAAqB,GAAM;AAC/B,QAAM,MAAM,QAAQ,cAAR,EAAZ;AACA,QAAM,eAAe,SAAS,aAAT,CAAuB,wBAAvB,CAArB;AACA,UAAM,SAAN,CAAgB,YAAhB,EAA8B,YAAM;AAClC,UAAI,SAAJ,CAAc,MAAd,CAAqB,aAArB;AACD,KAFD;AAGD,GAND;;AASA,SAAM;AACJ,iBAAa,WADT;AAEJ,yBAAqB,mBAFjB;AAGJ,2BAAsB,qBAHlB;AAIJ,0BAAsB,oBAJlB;AAKJ,wBAAoB;AALhB,GAAN;AAOD,CAtED","file":"procedures.js","sourcesContent":["define(require => {\r\n  const $dm = require(\"dataManager\")\r\n  const $render = require(\"render\")\r\n  const $make   = require(\"make\")\r\n\r\n  const getCloseOutArrayAndRender = () => {\r\n    const closeOuts     = $dm.getCalculatedCloseOuts()\r\n    const closeOutTable = $dm.formatCloseOutsToTableFormat(closeOuts)\r\n    const table         = $render.tableFromArray(closeOutTable, [\"date\", \"sgl\", \"dbl\"])\r\n    const container     = document.querySelector(\".closeOuts\")\r\n    container.appendChild(table)\r\n  }\r\n\r\n  const refreshData = (isFromButton) => {\r\n    $dm.loadSettingsFromDatabase(() => {;})\r\n    console.log(isFromButton)\r\n    const requestString = $dm.getDateURLrequestString(isFromButton)\r\n\r\n    $dm.getAvailabilityPromise(isFromButton).then(doc => {\r\n      const table = $dm.xmlToTable(doc)\r\n      const rateDiv = $render.rates(table.rates)\r\n      document.querySelector(\".rates\").appendChild(rateDiv)\r\n      $render.availability(table.availability)\r\n      getCloseOutArrayAndRender()\r\n    })\r\n  }\r\n\r\n  const bindRefreshDataButton = () => {\r\n    const btn = document.querySelector(\".refreshData\")\r\n    $make.clickable(btn, () => {\r\n      console.log(\"right here\")\r\n      refreshData(\"huetnoashuenaoa\")\r\n    })\r\n  }\r\n\r\n  const initializeGroupForm = () => {\r\n    const button = $render.preFormButton()\r\n    console.log()\r\n    const form = document.querySelector(\".groupCalc__preForm\")\r\n    form.appendChild(button)\r\n    console.log(button)\r\n  }\r\n\r\n  const bindContainerToggles = () => {\r\n    const buttons = Array.from(document.querySelectorAll(\".container__toggle\"))\r\n    buttons.forEach(button => {\r\n      const container = button.parentElement.querySelector(\"div\")\r\n      $make.clickable(button, () => {\r\n        container.classList.toggle(\"displayNone\")\r\n      })\r\n      console.log(container)\r\n    })\r\n  }\r\n\r\n  const initializeSettings = () => {\r\n    const win = $render.settingsWindow()\r\n    const toggleButton = document.querySelector(\".navbar__settings__img\")\r\n    $make.clickable(toggleButton, () => {\r\n      win.classList.toggle(\"displayNone\")\r\n    })\r\n  }\r\n\r\n\r\n  return{\r\n    refreshData: refreshData,\r\n    initializeGroupForm: initializeGroupForm,\r\n    bindRefreshDataButton:bindRefreshDataButton,\r\n    bindContainerToggles: bindContainerToggles,\r\n    initializeSettings: initializeSettings,\r\n  };\r\n})\r\n"]}